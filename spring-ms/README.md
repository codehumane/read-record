# 책소개

라제시 RV(Rajesh RV), [스프링 마이크로서비스](http://www.acornpub.co.kr/book/spring-microservices)

# 쉽게 알아보는 마이크로서비스
기술적 매력이나 한계가 아닌, "비즈니스적 요구"로 책을 시작하는 것이 인상깊음. 아래 문장도 흥미로움.

> 많은 조직들이 고객을 사로잡는 핵심 비즈니스 애플리케이션에만 마이크로서비스를 사용하고, 나머지는 기존의 레거시 일체형 애플리케이션을 그대로 두는 방식을 취하기도 한다는 점도 기억해둘만 하다.

아래 그림은 마이크로서비스의 한 예시.

![01-order-example](./01-order-example.jpg)

1. 주문 이벤트 접수되면 `주문 서비스`에서 먼저 처리되고, 주문 상세 정보다 데이터베이스에 담김.
2. 주문 저장이 성공하면 `주문 생성 이벤트`가 발생함.
3. `주문 생성 이벤트`는 순차 혹은 병렬적으로 다른 서비스들에 의해 처리됨.
4. `배송 서비스`는 `주문 생성 이벤트`를 받아, 고객에게 배송하기 위한 기록을 남긴 후 `배송 이벤트`를 전파.
5. `운송 서비스`는 `배송 이벤트`를 받아 운송 계획 생성함.
6. `고객 알림 서비스`는 주문 결과를 고객에게 이메일, 문자 등으로 알림.
7. `상품 목록 캐시 서비스`는 주문 후 남아 있는 상품 개수를 갱신함.
8. `재고 재주문 서비스`는 재고를 조사하고 필요하다면 `재고 고갈 이벤트`를 생성함.
9. `고객 포인트 서비스`는 구매로 발생한 적립 포인트를 누적시킴.
10. `고객 계정 서비스`는 고객 계정의 주문 이력을 업데이트.

마이크로 서비스 적용하기에 좋은 경우와 그렇지 않은 경우도 이야기함. 요약하면 아래와 같음.

1. 수명이 다한 무거운 레거시 재작성. 전부 새롭게 만드는 대신, 점진적으로 하나씩 이관함. 비즈니스 위험을 분산시킬 수 있음.
2. 독립적인 무상태 컴퓨팅 단위. 최적화, 예보, 가격 산정, 제안, 암호화, 인증 서비스 등이 해당함.
3. 재사용 단위. 결제, 로그인, 고객 프로파일, 알림 서비스 등.
4. 빠른 변경과 배포 속도가 필요하거나, 실험적인 애플리케이션도 대상.
5. 비즈니스 로직을 ESB와 같은 무거운 중앙 집중적 컴포넌트에서 관리해야 하는 경우는 적합치 않음.
6. 조직의 문화가 폴포수 모델이거나 무거운 출시 절차 등을 가지거나, 인프라스트럭처 자동 구성 부재 등의 경우도 적합치 않음.

# 스프링 부트로 만드는 마이크로서비스

TBD
